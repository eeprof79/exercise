<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Exercise Library</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <h1>Exercise Library</h1>
  <div id="filters"></div>
  <div id="exercise-container"></div>

  <script src="exercises.json" type="application/json" id="exercise-data"></script>
  <script>
  fetch('exercises.json')
    .then(response => response.json())
    .then(data => {
      const areas = [...new Set(data.flatMap(ex => ex.areas))].sort();
      const container = document.getElementById('exercise-container');
      const filters = document.getElementById('filters');

      function renderExercises(filter = null) {
        container.innerHTML = '';
        data.filter(ex => !filter || ex.areas.includes(filter)).forEach(ex => {
          const card = document.createElement('div');
          card.className = 'card';
          card.innerHTML = `
            <img src="images/${ex.image}" alt="${ex.name}">
            <h3>${ex.name}</h3>
            <p>${ex.description || '(No description yet)'}</p>
            <div class="tags">${ex.areas.map(a => `<span>${a}</span>`).join(' ')}</div>
          `;
          container.appendChild(card);
        });
      }

      areas.forEach(area => {
        const btn = document.createElement('button');
        btn.textContent = area;
        btn.onclick = () => renderExercises(area);
        filters.appendChild(btn);
      });

      const showAllBtn = document.createElement('button');
      showAllBtn.textContent = 'Show All';
      showAllBtn.onclick = () => renderExercises(null);
      filters.prepend(showAllBtn);

      renderExercises();
    })
    .catch(error => {
      console.error('Error loading JSON:', error);
    });
</script>

</body>
</html>
